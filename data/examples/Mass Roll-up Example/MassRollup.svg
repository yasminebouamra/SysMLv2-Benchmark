<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="722px" preserveAspectRatio="none" style="width:532px;height:722px;background:#FFFFFF;" version="1.1" viewBox="0 0 532 722" width="532px" zoomAndPan="magnify"><defs/><g><!--MD5=[fbc87193dbaf4d95561dea2c320d4a47]
cluster E1--><g id="cluster_E1"><a href="psysml:5fb1e3ef-ec1b-4506-b305-594054ff3515" target="_top" title="psysml:5fb1e3ef-ec1b-4506-b305-594054ff3515" xlink:actuate="onRequest" xlink:href="psysml:5fb1e3ef-ec1b-4506-b305-594054ff3515" xlink:show="new" xlink:title="psysml:5fb1e3ef-ec1b-4506-b305-594054ff3515" xlink:type="simple"><polygon fill="none" points="16,6,104,6,111,29.6094,515,29.6094,515,715,16,715,16,6" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="111" y1="29.6094" y2="29.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="82" x="20" y="22.5332">MassRollup</text></a></g><!--MD5=[b4997ac47864f28c2f74865a473b2911]
class E2--><a href="psysml:2f2a9a79-b2f5-450d-8b10-7c195709c9c7" target="_top" title="psysml:2f2a9a79-b2f5-450d-8b10-7c195709c9c7" xlink:actuate="onRequest" xlink:href="psysml:2f2a9a79-b2f5-450d-8b10-7c195709c9c7" xlink:show="new" xlink:title="psysml:2f2a9a79-b2f5-450d-8b10-7c195709c9c7" xlink:type="simple"><g id="elem_E2"><rect fill="#FFFFFF" height="96.9656" id="E2" style="stroke:#181818;stroke-width:0.5;" width="180" x="83" y="602"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="58" x="144" y="619.457">«part  def»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="130.5" y="636.627">MassedThing</text><line style="stroke:#181818;stroke-width:0.5;" x1="84" x2="262" y1="644.7031" y2="644.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="89" y="674.2801">mass:&gt;ISQBase::mass</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="89" y="691.8895">totalMass:&gt;ISQBase::mass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="143.5" y="657.9316">attributes</text></g></a><!--MD5=[09b614a08d8cba4a07c9adeb5e0fee81]
class E3--><a href="psysml:f45d34e7-ae34-4931-88c5-fcd7eef1e0ff" target="_top" title="psysml:f45d34e7-ae34-4931-88c5-fcd7eef1e0ff" xlink:actuate="onRequest" xlink:href="psysml:f45d34e7-ae34-4931-88c5-fcd7eef1e0ff" xlink:show="new" xlink:title="psysml:f45d34e7-ae34-4931-88c5-fcd7eef1e0ff" xlink:type="simple"><g id="elem_E3"><rect fill="#FFFFFF" height="114.575" id="E3" rx="10" ry="10" style="stroke:#181818;stroke-width:0.5;" width="187" x="311.5" y="427"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="387.5" y="444.457">«part»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="316.5" y="461.627">simpleThing: MassedThing</text><line style="stroke:#181818;stroke-width:0.5;" x1="312.5" x2="497.5" y1="469.7031" y2="469.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="317.5" y="499.2801">totalMass = mass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="175" x="317.5" y="516.8895">:&gt;&gt;MassedThing::totalMass</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="317.5" y="534.4988">^mass:&gt;ISQBase::mass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="375.5" y="482.9316">attributes</text></g></a><!--MD5=[ebbe1d658d1005bcc118a6aa81145e00]
class E4--><a href="psysml:190b1315-d475-4cb4-b8e9-40dd74c424f4" target="_top" title="psysml:190b1315-d475-4cb4-b8e9-40dd74c424f4" xlink:actuate="onRequest" xlink:href="psysml:190b1315-d475-4cb4-b8e9-40dd74c424f4" xlink:show="new" xlink:title="psysml:190b1315-d475-4cb4-b8e9-40dd74c424f4" xlink:type="simple"><g id="elem_E4"><rect fill="#FFFFFF" height="114.575" id="E4" rx="10" ry="10" style="stroke:#181818;stroke-width:0.5;" width="212" x="63" y="252"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="151.5" y="269.457">«part»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="68.5" y="286.627">compositeThing: MassedThing</text><line style="stroke:#181818;stroke-width:0.5;" x1="64" x2="274" y1="294.7031" y2="294.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="69" y="324.2801">totalMass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="49" x="133" y="324.2801">default</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="186" y="324.2801">mass +</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="69" y="341.8895">sum(subcomponents.totalMass)</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="175" x="69" y="359.4988">:&gt;&gt;MassedThing::totalMass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="139.5" y="307.9316">attributes</text></g></a><!--MD5=[270fce915f116d4de14055a7c1d9a0f3]
class E5--><a href="psysml:e6b89fe9-1dd7-459e-8444-0a259bae7f3c" target="_top" title="psysml:e6b89fe9-1dd7-459e-8444-0a259bae7f3c" xlink:actuate="onRequest" xlink:href="psysml:e6b89fe9-1dd7-459e-8444-0a259bae7f3c" xlink:show="new" xlink:title="psysml:e6b89fe9-1dd7-459e-8444-0a259bae7f3c" xlink:type="simple"><g id="elem_E5"><rect fill="#FFFFFF" height="79.3563" id="E5" rx="10" ry="10" style="stroke:#181818;stroke-width:0.5;" width="207" x="69.5" y="445"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="155.5" y="462.457">«part»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="72.5" y="479.627">subcomponents: MassedThing</text><line style="stroke:#181818;stroke-width:0.5;" x1="70.5" x2="275.5" y1="487.7031" y2="487.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="75.5" y="517.2801">^totalMass:&gt;ISQBase::mass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="143.5" y="500.9316">attributes</text></g></a><!--MD5=[60a26617385b1d2d0262a64233df1f8d]
class E6--><a href="psysml:5c363040-8416-429c-b5ea-99ea8ff1654c" target="_top" title="psysml:5c363040-8416-429c-b5ea-99ea8ff1654c" xlink:actuate="onRequest" xlink:href="psysml:5c363040-8416-429c-b5ea-99ea8ff1654c" xlink:show="new" xlink:title="psysml:5c363040-8416-429c-b5ea-99ea8ff1654c" xlink:type="simple"><g id="elem_E6"><rect fill="#FFFFFF" height="149.7938" id="E6" rx="10" ry="10" style="stroke:#181818;stroke-width:0.5;" width="267" x="35.5" y="42"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="35" x="151.5" y="59.457">«part»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="53" y="76.627">filteredMassThing :&gt;compositeThing</text><line style="stroke:#181818;stroke-width:0.5;" x1="36.5" x2="301.5" y1="84.7031" y2="84.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="41.5" y="114.2801">totalMass =</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="45" x="201.5" y="114.2801">mass +</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251" x="41.5" y="131.8895">sum(subcomponents.totalMass.?{in p :&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161" x="41.5" y="149.4988">ISQ::mass; p &gt; minMass})</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="189" x="41.5" y="167.1082">:&gt;&gt;compositeThing::totalMass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="56" x="41.5" y="184.7176">minMass</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="97.5" y="184.7176">:&gt;ISQBase::mass</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="139.5" y="97.9316">attributes</text></g></a><!--MD5=[05d275557350bfb9b23a4ef7222b4c39]
link E3 to E2--><g id="link_E3_E2"><a href="psysml:1643aac4-67aa-4a46-be64-f7409993dc7f" target="_top" title="psysml:1643aac4-67aa-4a46-be64-f7409993dc7f" xlink:actuate="onRequest" xlink:href="psysml:1643aac4-67aa-4a46-be64-f7409993dc7f" xlink:show="new" xlink:title="psysml:1643aac4-67aa-4a46-be64-f7409993dc7f" xlink:type="simple"><path d="M324.83,542.17 C302.92,557.66 279.11,574.49 256.98,590.13 " fill="none" id="E3-to-E2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="240.45,601.82,251.9242,585.1364,260.0056,596.5684,240.45,601.82" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="257.7331" cy="583.4792" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="263.5055" cy="591.6449" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/></a></g><!--MD5=[185131fc0dcab0a4505a2ebe144e961b]
link E4 to E2--><g id="link_E4_E2"><a href="psysml:95f7bf4e-e90e-4190-a5ea-7235ac69f736" target="_top" title="psysml:95f7bf4e-e90e-4190-a5ea-7235ac69f736" xlink:actuate="onRequest" xlink:href="psysml:95f7bf4e-e90e-4190-a5ea-7235ac69f736" xlink:show="new" xlink:title="psysml:95f7bf4e-e90e-4190-a5ea-7235ac69f736" xlink:type="simple"><path d="M94.34,367.18 C77.2,384.34 61.29,404.63 52,427 C32.39,474.2 31.06,495.38 52,542 C59.65,559.04 71.49,574.47 84.82,587.99 " fill="none" id="E4-to-E2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="99.74,601.89,81.0707,594.0505,90.6193,583.8121,99.74,601.89" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="78.2663" cy="588.7002" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="85.0867" cy="581.3871" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/></a></g><!--MD5=[62aa6af11e70f752912c1cb0466f24f7]
reverse link E4 to E5--><g id="link_E4_E5"><a href="psysml:da70e4e8-48df-4f57-8877-957f4fb6ffb3" target="_top" title="psysml:da70e4e8-48df-4f57-8877-957f4fb6ffb3" xlink:actuate="onRequest" xlink:href="psysml:da70e4e8-48df-4f57-8877-957f4fb6ffb3" xlink:show="new" xlink:title="psysml:da70e4e8-48df-4f57-8877-957f4fb6ffb3" xlink:type="simple"><path d="M170.61,380.24 C171.12,402.25 171.66,425.76 172.1,444.78 " fill="none" id="E4-backto-E5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="170.31,367.15,166.4495,373.2407,170.5868,379.1468,174.4474,373.0561,170.31,367.15" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="166.5156" y="434.0728">*</text></a></g><!--MD5=[15ebcb19ae302d9b601edb458606d402]
link E5 to E2--><g id="link_E5_E2"><a href="psysml:8ea6c82e-1ec5-4d6f-8712-9a08bacde365" target="_top" title="psysml:8ea6c82e-1ec5-4d6f-8712-9a08bacde365" xlink:actuate="onRequest" xlink:href="psysml:8ea6c82e-1ec5-4d6f-8712-9a08bacde365" xlink:show="new" xlink:title="psysml:8ea6c82e-1ec5-4d6f-8712-9a08bacde365" xlink:type="simple"><path d="M173,524.37 C173,541.5 173,562.14 173,581.68 " fill="none" id="E5-to-E2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="173,601.84,166,582.84,180,582.84,173,601.84" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="168" cy="577.14" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/><ellipse cx="178" cy="577.14" fill="#181818" rx="2" ry="2" style="stroke:#181818;stroke-width:1.0;"/></a></g><!--MD5=[f667431f98296947986a1a7595a31603]
link E6 to E4--><g id="link_E6_E4"><a href="psysml:815f0a05-a327-4ef8-b101-099a288dc7fd" target="_top" title="psysml:815f0a05-a327-4ef8-b101-099a288dc7fd" xlink:actuate="onRequest" xlink:href="psysml:815f0a05-a327-4ef8-b101-099a288dc7fd" xlink:show="new" xlink:title="psysml:815f0a05-a327-4ef8-b101-099a288dc7fd" xlink:type="simple"><path d="M169,192.2 C169,205.22 169,218.8 169,231.89 " fill="none" id="E6-to-E4" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="176,231.91,169,251.91,162,231.91,176,231.91" style="stroke:#181818;stroke-width:1.0;"/></a></g><!--MD5=[f9a5409a7b93765d68b7626d13ec752c]
@startuml
skin sysmlbw
skinparam monochrome true
skinparam wrapWidth 300
hide circle

package "MassRollup" as E1  [[psysml:5fb1e3ef-ec1b-4506-b305-594054ff3515 ]]  {
comp def "MassedThing" as E2  <<(T,blue) part  def>> [[psysml:2f2a9a79-b2f5-450d-8b10-7c195709c9c7 ]] {
##//attributes//##
mass:>ISQBase::mass
totalMass:>ISQBase::mass
}
comp usage "simpleThing: MassedThing  " as E3  <<(T,blue) part>> [[psysml:f45d34e7-ae34-4931-88c5-fcd7eef1e0ff ]] {
##//attributes//##
totalMass <U+003D> mass\n//:>>MassedThing::totalMass// 
^mass:>ISQBase::mass
}
comp usage "compositeThing: MassedThing  " as E4  <<(T,blue) part>> [[psysml:190b1315-d475-4cb4-b8e9-40dd74c424f4 ]] {
##//attributes//##
totalMass<b> default </b>mass + sum(subcomponents.totalMass)\n//:>>MassedThing::totalMass// 
}
comp usage "subcomponents: MassedThing  " as E5  <<(T,blue) part>> [[psysml:e6b89fe9-1dd7-459e-8444-0a259bae7f3c ]] {
##//attributes//##
^totalMass:>ISQBase::mass
}
comp usage "filteredMassThing :>compositeThing " as E6  <<(T,blue) part>> [[psysml:5c363040-8416-429c-b5ea-99ea8ff1654c ]] {
##//attributes//##
totalMass <U+003D>			mass + sum(subcomponents.totalMass.?{in p :> ISQ::mass; p > minMass})\n//:>>compositeThing::totalMass// 
<i>minMass</i>:>ISQBase::mass
}
}
E3 - -:|> E2 [[psysml:1643aac4-67aa-4a46-be64-f7409993dc7f ]] 
E4 - -:|> E2 [[psysml:95f7bf4e-e90e-4190-a5ea-7235ac69f736 ]] 
E4 *- - "*"E5 [[psysml:da70e4e8-48df-4f57-8877-957f4fb6ffb3 ]] 
E5 - -:|> E2 [[psysml:8ea6c82e-1ec5-4d6f-8712-9a08bacde365 ]] 
E6 - -|> E4 [[psysml:815f0a05-a327-4ef8-b101-099a288dc7fd ]] 
@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(EPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>